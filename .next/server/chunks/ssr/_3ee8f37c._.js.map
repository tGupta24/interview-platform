{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/Desktop/Hackhazards%20AI/interview-platform/lib/actions/general.action.ts"],"sourcesContent":["\"use server\";\n\nimport { generateObject } from \"ai\";\nimport { google } from \"@ai-sdk/google\";\n\nimport { db } from \"@/firebase/admin\";\nimport { feedbackSchema } from \"@/constants\";\n\nexport async function createFeedback(params: CreateFeedbackParams) {\n  const { interviewId, userId, transcript, feedbackId } = params;\n\n  try {\n    const formattedTranscript = transcript\n      .map(\n        (sentence: { role: string; content: string }) =>\n          `- ${sentence.role}: ${sentence.content}\\n`\n      )\n      .join(\"\");\n\n    const { object } = await generateObject({\n      model: google(\"gemini-2.0-flash-001\", {\n        structuredOutputs: false,\n      }),\n      schema: feedbackSchema,\n      prompt: `\n        You are an AI interviewer analyzing a mock interview. Your task is to evaluate the candidate based on structured categories. Be thorough and detailed in your analysis. Don't be lenient with the candidate. If there are mistakes or areas for improvement, point them out.\n        Transcript:\n        ${formattedTranscript}\n\n        Please score the candidate from 0 to 100 in the following areas. Do not add categories other than the ones provided:\n        - **Communication Skills**: Clarity, articulation, structured responses.\n        - **Technical Knowledge**: Understanding of key concepts for the role.\n        - **Problem-Solving**: Ability to analyze problems and propose solutions.\n        - **Cultural & Role Fit**: Alignment with company values and job role.\n        - **Confidence & Clarity**: Confidence in responses, engagement, and clarity.\n        `,\n      system:\n        \"You are a professional interviewer analyzing a mock interview. Your task is to evaluate the candidate based on structured categories\",\n    });\n\n    const feedback = {\n      interviewId: interviewId,\n      userId: userId,\n      totalScore: object.totalScore,\n      categoryScores: object.categoryScores,\n      strengths: object.strengths,\n      areasForImprovement: object.areasForImprovement,\n      finalAssessment: object.finalAssessment,\n      createdAt: new Date().toISOString(),\n    };\n\n    let feedbackRef;\n\n    if (feedbackId) {\n      feedbackRef = db.collection(\"feedback\").doc(feedbackId);\n    } else {\n      feedbackRef = db.collection(\"feedback\").doc();\n    }\n\n    await feedbackRef.set(feedback);\n\n    return { success: true, feedbackId: feedbackRef.id };\n  } catch (error) {\n    console.error(\"Error saving feedback:\", error);\n    return { success: false };\n  }\n}\n\nexport async function getInterviewById(id: string): Promise<Interview | null> {\n  const interview = await db.collection(\"interviews\").doc(id).get();\n\n  return interview.data() as Interview | null;\n}\n\nexport async function getFeedbackByInterviewId(\n  params: GetFeedbackByInterviewIdParams\n): Promise<Feedback | null> {\n  const { interviewId, userId } = params;\n\n  const querySnapshot = await db\n    .collection(\"feedback\")\n    .where(\"interviewId\", \"==\", interviewId)\n    .where(\"userId\", \"==\", userId)\n    .limit(1)\n    .get();\n\n  if (querySnapshot.empty) return null;\n\n  const feedbackDoc = querySnapshot.docs[0];\n  return { id: feedbackDoc.id, ...feedbackDoc.data() } as Feedback;\n}\n\nexport async function getLatestInterviews(\n  params: GetLatestInterviewsParams\n): Promise<Interview[] | null> {\n  const { userId, limit = 20 } = params;\n\n  const interviews = await db\n    .collection(\"interviews\")\n    .orderBy(\"createdAt\", \"desc\")\n    .where(\"finalized\", \"==\", true)\n    .where(\"userId\", \"!=\", userId)\n    .limit(limit)\n    .get();\n\n  return interviews.docs.map((doc) => ({\n    id: doc.id,\n    ...doc.data(),\n  })) as Interview[];\n}\n\nexport async function getInterviewsByUserId(\n  userId: string\n): Promise<Interview[] | null> {\n  const interviews = await db\n    .collection(\"interviews\")\n    .where(\"userId\", \"==\", userId)\n    .orderBy(\"createdAt\", \"desc\")\n    .get();\n\n  return interviews.docs.map((doc) => ({\n    id: doc.id,\n    ...doc.data(),\n  })) as Interview[];\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/Desktop/Hackhazards%20AI/interview-platform/.next-internal/server/app/%28root%29/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {signOut as '00793394b277d19552014378f1dc846c09cbfb2b57'} from 'ACTIONS_MODULE0'\nexport {isAuthenticated as '00a01d09c19859b55ae7ac996eee01b56c67a3c0a2'} from 'ACTIONS_MODULE0'\nexport {logout as '00b931587180d522de8c7c728e98901163fe528047'} from 'ACTIONS_MODULE0'\nexport {getCurrentUser as '00d5d013267b10086c3f61e76203aad2abc9e1bfaa'} from 'ACTIONS_MODULE0'\nexport {signIn as '4016cb4fb2494378f5ff0a0e5882c62c19a902d083'} from 'ACTIONS_MODULE0'\nexport {setSessionCookie as '4085e29fdf6b5b5276675b3979afc28fc980338cfb'} from 'ACTIONS_MODULE0'\nexport {signUp as '40da36582b074e7ac0a194925866a6a4ceb629df82'} from 'ACTIONS_MODULE0'\nexport {getFeedbackByInterviewId as '403be43bd0c53e40cf4761f885de6f80353a610284'} from 'ACTIONS_MODULE1'\nexport {createFeedback as '405ae410f7a02e1064647acfacc8397287216366d0'} from 'ACTIONS_MODULE1'\nexport {getLatestInterviews as '40615731fb3a565bd1d98fb28e67858d0e384d6add'} from 'ACTIONS_MODULE1'\nexport {getInterviewsByUserId as '40706ff48b44b892b2ef558cc4d4066f7b707648b0'} from 'ACTIONS_MODULE1'\nexport {getInterviewById as '40ec5fdd60422bd5f3fab3af141f575ca511792615'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AAOA","debugId":null}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/Desktop/Hackhazards%20AI/interview-platform/components/InterviewCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/InterviewCard.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/InterviewCard.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","debugId":null}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/Desktop/Hackhazards%20AI/interview-platform/components/InterviewCard.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/InterviewCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/InterviewCard.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/Desktop/Hackhazards%20AI/interview-platform/app/%28root%29/page.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport InterviewCard from \"@/components/InterviewCard\";\r\nimport { getCurrentUser } from \"@/lib/actions/auth.action\";\r\nimport {\r\n  getInterviewsByUserId,\r\n  getLatestInterviews,\r\n} from \"@/lib/actions/general.action\";\r\n\r\n\r\nasync function Home() {\r\n  const user = await getCurrentUser();\r\n\r\n  // Fetch user interviews and all interviews\r\n  const [userInterviews, allInterview] = await Promise.all([\r\n    getInterviewsByUserId(user?.id!),\r\n    getLatestInterviews({ userId: user?.id! }),\r\n  ]);\r\n\r\n  // Sort interviews by createdAt (newest first)\r\n  const sortedUserInterviews = userInterviews?.sort((a, b) =>\r\n    new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n  );\r\n  const sortedAllInterviews = allInterview?.sort((a, b) =>\r\n    new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n  );\r\n\r\n  // Limit to max 9 interviews\r\n  const limitedUserInterviews = sortedUserInterviews?.slice(0, 9);\r\n  const limitedAllInterviews = sortedAllInterviews?.slice(0, 9);\r\n\r\n  const hasPastInterviews = limitedUserInterviews?.length! > 0;\r\n  const hasUpcomingInterviews = limitedAllInterviews?.length! > 0;\r\n\r\n  return (\r\n    <>\r\n      <section className=\"flex flex-col md:flex-row items-center justify-between gap-12 py-16 px-8 bg-[#0f172a] text-gray-100 rounded-2xl border border-gray-700 shadow-lg hover:shadow-2xl transition-all\">\r\n        {/* Left content */}\r\n        <div className=\"flex flex-col gap-6 max-w-xl text-center md:text-left\">\r\n          <h2 className=\"text-4xl font-extrabold leading-tight text-white\">\r\n            Level Up Your Interview Game with Real-Time AI Insights\r\n          </h2>\r\n          <p className=\"text-lg text-gray-400\">\r\n            Dive into real interview simulations and get instant feedback on your communication,\r\n            problem-solving, and tech stack proficiency.\r\n          </p>\r\n\r\n          <Button asChild className=\"bg-blue-600 hover:bg-blue-500 text-white mt-2 max-w-xs self-center md:self-start\">\r\n            <Link href=\"/interview\">Make an Interview</Link>\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Right image */}\r\n        <Image\r\n          src=\"/robot.png\"\r\n          alt=\"AI robot illustration\"\r\n          width={380}\r\n          height={380}\r\n          className=\"hidden md:block rounded-xl border border-gray-700 shadow-md\"\r\n        />\r\n      </section>\r\n\r\n\r\n      <section className=\"mt-12 px-8\">\r\n        <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 dark:text-gray-100\">Your Interviews</h2>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-40\">\r\n          {hasPastInterviews ? (\r\n            limitedUserInterviews?.map((interview) => (\r\n              <InterviewCard\r\n                key={interview.id}\r\n                userId={user?.id}\r\n                interviewId={interview.id}\r\n                role={interview.role}\r\n                type={interview.type}\r\n                techstack={interview.techstack}\r\n                createdAt={interview.createdAt}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center text-gray-600 dark:text-gray-400\">You haven't taken any interviews yet.</div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"mt-12 px-8\">\r\n        <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 dark:text-gray-100\">Take Interviews</h2>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-40\">\r\n          {hasUpcomingInterviews ? (\r\n            limitedAllInterviews?.map((interview) => (\r\n              <InterviewCard\r\n                key={interview.id}\r\n                userId={user?.id}\r\n                interviewId={interview.id}\r\n                role={interview.role}\r\n                type={interview.type}\r\n                techstack={interview.techstack}\r\n                createdAt={interview.createdAt}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center text-gray-600 dark:text-gray-400\">There are no interviews available at the moment.</div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <Button asChild className=\"btn-primary mt-4\">\r\n        <Link href=\"/allinterviews\">View All Interviews</Link>\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAMA,eAAe;IACb,MAAM,OAAO,MAAM,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD;IAEhC,2CAA2C;IAC3C,MAAM,CAAC,gBAAgB,aAAa,GAAG,MAAM,QAAQ,GAAG,CAAC;QACvD,CAAA,GAAA,mIAAA,CAAA,wBAAqB,AAAD,EAAE,MAAM;QAC5B,CAAA,GAAA,mIAAA,CAAA,sBAAmB,AAAD,EAAE;YAAE,QAAQ,MAAM;QAAI;KACzC;IAED,8CAA8C;IAC9C,MAAM,uBAAuB,gBAAgB,KAAK,CAAC,GAAG,IACpD,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;IAEjE,MAAM,sBAAsB,cAAc,KAAK,CAAC,GAAG,IACjD,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;IAGjE,4BAA4B;IAC5B,MAAM,wBAAwB,sBAAsB,MAAM,GAAG;IAC7D,MAAM,uBAAuB,qBAAqB,MAAM,GAAG;IAE3D,MAAM,oBAAoB,uBAAuB,SAAU;IAC3D,MAAM,wBAAwB,sBAAsB,SAAU;IAE9D,qBACE;;0BACE,8OAAC;gBAAQ,WAAU;;kCAEjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmD;;;;;;0CAGjE,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;0CAKrC,8OAAC,2HAAA,CAAA,SAAM;gCAAC,OAAO;gCAAC,WAAU;0CACxB,cAAA,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;8CAAa;;;;;;;;;;;;;;;;;kCAK5B,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;;0BAKd,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAG,WAAU;kCAA+D;;;;;;kCAE7E,8OAAC;wBAAI,WAAU;kCACZ,oBACC,uBAAuB,IAAI,CAAC,0BAC1B,8OAAC,4HAAA,CAAA,UAAa;gCAEZ,QAAQ,MAAM;gCACd,aAAa,UAAU,EAAE;gCACzB,MAAM,UAAU,IAAI;gCACpB,MAAM,UAAU,IAAI;gCACpB,WAAW,UAAU,SAAS;gCAC9B,WAAW,UAAU,SAAS;+BANzB,UAAU,EAAE;;;;sDAUrB,8OAAC;4BAAI,WAAU;sCAA+C;;;;;;;;;;;;;;;;;0BAKpE,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAG,WAAU;kCAA+D;;;;;;kCAE7E,8OAAC;wBAAI,WAAU;kCACZ,wBACC,sBAAsB,IAAI,CAAC,0BACzB,8OAAC,4HAAA,CAAA,UAAa;gCAEZ,QAAQ,MAAM;gCACd,aAAa,UAAU,EAAE;gCACzB,MAAM,UAAU,IAAI;gCACpB,MAAM,UAAU,IAAI;gCACpB,WAAW,UAAU,SAAS;gCAC9B,WAAW,UAAU,SAAS;+BANzB,UAAU,EAAE;;;;sDAUrB,8OAAC;4BAAI,WAAU;sCAA+C;;;;;;;;;;;;;;;;;0BAKpE,8OAAC,2HAAA,CAAA,SAAM;gBAAC,OAAO;gBAAC,WAAU;0BACxB,cAAA,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;8BAAiB;;;;;;;;;;;;;AAIpC;uCAEe","debugId":null}}]
}